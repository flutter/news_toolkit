"use strict";(self.webpackChunkflutter_news_toolkit_docs=self.webpackChunkflutter_news_toolkit_docs||[]).push([[651],{2065:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var t=i(5893),r=i(1151);const o={sidebar_position:1,description:"Learn how to run your news API."},s="Running the API",a={id:"server_development/running_the_api",title:"Running the API",description:"Learn how to run your news API.",source:"@site/docs/server_development/running_the_api.md",sourceDirName:"server_development",slug:"/server_development/running_the_api",permalink:"/news_toolkit/server_development/running_the_api",draft:!1,unlisted:!1,editUrl:"https://github.com/flutter/news_toolkit/tree/main/docs/docs/server_development/running_the_api.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,description:"Learn how to run your news API."},sidebar:"tutorialSidebar",previous:{title:"Server Development",permalink:"/news_toolkit/category/server-development"},next:{title:"Connecting your data source",permalink:"/news_toolkit/server_development/connecting_your_data_source"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Running the API server locally",id:"running-the-api-server-locally",level:3},{value:"Running the API server in Docker",id:"running-the-api-server-in-docker",level:3},{value:"API documentation",id:"api-documentation",level:2},{value:"Running the documentation locally",id:"running-the-documentation-locally",level:3},{value:"Contributing to the API documentation",id:"contributing-to-the-api-documentation",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"running-the-api",children:"Running the API"}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["The Flutter News Example API is written in ",(0,t.jsx)(n.a,{href:"https://dart.dev",children:"Dart"})," and uses ",(0,t.jsx)(n.a,{href:"https://dartfrog.vgv.dev",children:"Dart Frog"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"running-the-api-server-locally",children:"Running the API server locally"}),"\n",(0,t.jsx)(n.p,{children:"To launch the server locally, run the following command from the current directory:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"dart_frog dev\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This starts the server on ",(0,t.jsx)(n.a,{href:"http://localhost:8080",children:"localhost:8080"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"running-the-api-server-in-docker",children:"Running the API server in Docker"}),"\n",(0,t.jsxs)(n.p,{children:["To run the server in Docker, make sure you have ",(0,t.jsx)(n.a,{href:"https://docs.docker.com/get-docker/",children:"Docker installed"}),", then use the following instructions:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Create a production build with the following command:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"dart_frog build\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["Switch directories into the generated ",(0,t.jsx)(n.code,{children:"build"})," directory:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd build\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Create a Docker image:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"docker build -q .\n"})}),"\n",(0,t.jsx)(n.p,{children:"Once you have created an image, run it using the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"docker run -d -p 8080:8080 --rm <IMAGE>\n"})}),"\n",(0,t.jsx)(n.p,{children:"To kill the container:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"docker kill <CONTAINER>\n"})}),"\n",(0,t.jsx)(n.p,{children:"To delete an image:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"docker rmi <IMAGE>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"api-documentation",children:"API documentation"}),"\n",(0,t.jsxs)(n.p,{children:["Find the service API documentation in ",(0,t.jsx)(n.code,{children:"docs/api.apib"}),". The documentation uses the ",(0,t.jsx)(n.a,{href:"https://github.com/apiaryio/api-blueprint",children:"API Blueprint"})," specification. Preview the doc using the ",(0,t.jsx)(n.a,{href:"https://github.com/apiaryio/apiary-client",children:"Apiary Client"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"running-the-documentation-locally",children:"Running the documentation locally"}),"\n",(0,t.jsxs)(n.p,{children:["To run the interactive API documentation locally, make sure that you have the ",(0,t.jsx)(n.a,{href:"https://github.com/apiaryio/apiary-client",children:"Apiary Client"})," installed:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ gem install apiaryio\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Then use the ",(0,t.jsx)(n.code,{children:"preview"})," command to run the documentation:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ apiary preview --path docs/api.apib --watch\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The interactive documentation is available at ",(0,t.jsx)(n.a,{href:"http://localhost:8080",children:"localhost:8080"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["For more information, refer to the ",(0,t.jsx)(n.a,{href:"https://help.apiary.io/tools/apiary-cli",children:"Apiary Client Documentation"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"contributing-to-the-api-documentation",children:"Contributing to the API documentation"}),"\n",(0,t.jsxs)(n.p,{children:["For documentation and tutorials on using the API Blueprint specification, refer to ",(0,t.jsx)(n.a,{href:"https://apiblueprint.org/",children:"APIBlueprint.org"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["For more information, refer to the ",(0,t.jsx)(n.a,{href:"https://github.com/apiaryio/api-blueprint/blob/master/API%20Blueprint%20Specification.md",children:"API Blueprint Specification"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["We recommend that you install the ",(0,t.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=vncz.vscode-apielements",children:"API Elements VSCode Extension"})," to provide syntax highlighting and show errors and warnings when using invalid syntax."]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>s});var t=i(7294);const r={},o=t.createContext(r);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);